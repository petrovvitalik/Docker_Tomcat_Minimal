version: "3.9"

x-services-volume:
  &services-volume
  type: bind
  source: ./appdata
  target: /var/opt

services:
  back:
    build: http://193.122.59.82:3000/petrovvitalik/Docker_Tomcat_Minimal/raw/master/Dockerfile-Maven
    volumes: *services-volume
    links:
      - front
  front:
    build: http://193.122.59.82:3000/petrovvitalik/Docker_Tomcat_Minimal/raw/master/Dockerfile-Tomcat
    ports:
      - "8080:8080"
    volumes:
        - <<: *services-volume
        target: /usr/local/tomcat/webapps/